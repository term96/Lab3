function Circle(a,b,c){Shape.apply(this),this.centerX=50,this.centerY=50,this.radius=20,void 0===a||isNaN(+a)||(this.centerX=+a),void 0===b||isNaN(+b)||(this.centerY=+b),void 0!==c&&!isNaN(+c)&&c>=0&&(this.radius=+c)}function addListeners(){document.getElementById("shape_selecter").addEventListener("change",showParameters);for(var a=document.getElementsByTagName("input"),b=0;b<a.length;++b)a[b].addEventListener("change",draw)}function draw(){var a=document.getElementById("shape_selecter");switch(a.options[a.selectedIndex].value){case"Circle":drawCircle();break;case"Rectangle":drawRectangle();break;case"Triangle":drawTriangle()}}function drawCircle(){var a=document.getElementById("radius").value,b=document.getElementById("center_x").value,c=document.getElementById("center_y").value,d=new Circle(b,c,a);setShapeColors(d),d.draw(),showShapeInfo(d)}function drawRectangle(){var a=document.getElementById("rectangle_x1").value,b=document.getElementById("rectangle_y1").value,c=document.getElementById("rectangle_x2").value,d=document.getElementById("rectangle_y2").value,e=new Rectangle(a,b,c,d);setShapeColors(e),e.draw(),showShapeInfo(e)}function drawTriangle(){var a=document.getElementById("triangle_x1").value,b=document.getElementById("triangle_y1").value,c=document.getElementById("triangle_x2").value,d=document.getElementById("triangle_y2").value,e=document.getElementById("triangle_x3").value,f=document.getElementById("triangle_y3").value,g=new Triangle(a,b,c,d,e,f);setShapeColors(g),g.draw(),showShapeInfo(g)}function setShapeColors(a){var b=document.getElementById("fill_color").value,c=document.getElementById("border_color").value;a.setFillColor(b),a.setBorderColor(c)}function showParameters(){var a=document.getElementById("shape_selecter"),b=a.options[a.selectedIndex].value,c=document.getElementById("circle_parameters"),d=document.getElementById("rectangle_parameters"),e=document.getElementById("triangle_parameters");switch(b){case"Circle":c.style.display="block",d.style.display="none",e.style.display="none";break;case"Rectangle":d.style.display="block",c.style.display="none",e.style.display="none";break;case"Triangle":e.style.display="block",c.style.display="none",d.style.display="none";break;default:c.style.display="none",d.style.display="none",e.style.display="none"}}function showShapeInfo(a){for(var b=document.getElementsByTagName("p"),c=0;c<b.length;++c)b[c].style.display="block";document.getElementById("area").innerHTML=String(a.calculateArea()),document.getElementById("perimeter").innerHTML=String(a.calculatePerimeter())}function Rectangle(a,b,c,d){Shape.apply(this),this.x=20,this.y=20,this.width=80,this.height=30,void 0===a||isNaN(+a)||void 0===c||isNaN(+c)||(this.x=Math.min(a,c),this.width=Math.max(a,c)-this.x),void 0===b||isNaN(+b)||void 0===d||isNaN(+d)||(this.y=Math.min(b,d),this.height=Math.max(b,d)-this.y)}function Shape(){this.fillColor="#000000",this.borderColor="#ff0000"}function Triangle(a,b,c,d,e,f){Shape.apply(this),this.x1=20,this.y1=20,this.x2=100,this.y2=20,this.x3=60,this.y3=100,void 0===a||isNaN(+a)||(this.x1=+a),void 0===b||isNaN(+b)||(this.y1=+b),void 0===c||isNaN(+c)||(this.x2=+c),void 0===d||isNaN(+d)||(this.y2=+d),void 0===e||isNaN(+e)||(this.x3=+e),void 0===f||isNaN(+f)||(this.y3=+f)}Circle.prototype=Object.create(Shape.prototype),Circle.prototype.draw=function(){var a=document.getElementById("canvas"),b=a.getContext("2d");b.clearRect(0,0,a.width,a.height),b.beginPath(),b.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1),b.fillStyle=this.fillColor,b.fill(),b.lineWidth=3,b.strokeStyle=this.borderColor,b.stroke()},Circle.prototype.calculateArea=function(){return Math.PI*this.radius*this.radius},Circle.prototype.calculatePerimeter=function(){return 2*Math.PI*this.radius},addListeners(),Rectangle.prototype=Object.create(Shape.prototype),Rectangle.prototype.draw=function(){var a=document.getElementById("canvas"),b=a.getContext("2d");b.clearRect(0,0,a.width,a.height),b.beginPath(),b.rect(this.x,this.y,this.width,this.height),b.fillStyle=this.fillColor,b.fill(),b.lineWidth=3,b.strokeStyle=this.borderColor,b.stroke()},Rectangle.prototype.calculateArea=function(){return this.width*this.height},Rectangle.prototype.calculatePerimeter=function(){return 2*this.width+2*this.height},Shape.prototype.setFillColor=function(a){a&&(this.fillColor=a)},Shape.prototype.getFillColor=function(){return this.fillColor},Shape.prototype.setBorderColor=function(a){a&&(this.borderColor=a)},Shape.prototype.getBorderColor=function(){return this.borderColor},Triangle.prototype=Object.create(Shape.prototype),Triangle.prototype.draw=function(){var a=document.getElementById("canvas"),b=a.getContext("2d");b.clearRect(0,0,a.width,a.height),b.beginPath(),b.moveTo(this.x1,this.y1),b.lineTo(this.x2,this.y2),b.lineTo(this.x3,this.y3),b.closePath(),b.fillStyle=this.fillColor,b.fill(),b.lineWidth=3,b.strokeStyle=this.borderColor,b.stroke()},Triangle.prototype.calculateArea=function(){var a=this.getSideLengths(),b=this.calculatePerimeter()/2;return Math.sqrt(b*(b-a[0])*(b-a[1])*(b-a[2]))},Triangle.prototype.calculatePerimeter=function(){var a=this.getSideLengths();return a[0]+a[1]+a[2]},Triangle.prototype.getSideLengths=function(){function a(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))}return[a(this.x1,this.y1,this.x2,this.y2),a(this.x1,this.y1,this.x3,this.y3),a(this.x3,this.y3,this.x2,this.y2)]};